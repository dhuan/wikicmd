<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>wikicmd</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="wikicmd.html"><strong aria-hidden="true">1.</strong> wikicmd</a></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="install.html"><strong aria-hidden="true">2.</strong> Installing</a></li><li class="chapter-item expanded "><a href="config.html"><strong aria-hidden="true">3.</strong> Configuring</a></li><li class="chapter-item expanded "><a href="credentials.html"><strong aria-hidden="true">4.</strong> Get your Wiki Credentials</a></li><li class="chapter-item expanded "><a href="troubleshooting.html"><strong aria-hidden="true">5.</strong> Troubleshooting</a></li><li class="chapter-item expanded affix "><li class="part-title">Command Reference</li><li class="chapter-item expanded "><a href="cmd_config.html"><strong aria-hidden="true">6.</strong> Config</a></li><li class="chapter-item expanded "><a href="cmd_edit.html"><strong aria-hidden="true">7.</strong> Edit</a></li><li class="chapter-item expanded "><a href="cmd_export.html"><strong aria-hidden="true">8.</strong> Export</a></li><li class="chapter-item expanded "><a href="cmd_import.html"><strong aria-hidden="true">9.</strong> Import</a></li><li class="chapter-item expanded "><a href="cmd_switch.html"><strong aria-hidden="true">10.</strong> Switch</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">wikicmd</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="wikicmd"><a class="header" href="#wikicmd">wikicmd</a></h1>
<p>wikicmd is a command-line utility for working with MediaWiki websites, such as the Wikipedia.</p>
<pre><code class="language-sh">$ wikicmd edit 'Some page'
# Your favorite editor will then open up and you can edit the 'Some page' article.
</code></pre>
<p>Check the Command Reference section on the menu to know all the possible operations.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>For installation instructions, see <a href="install.html">Installation</a>. If you just want to quickly download the latest version:</p>
<ul>
<li><a href="https://github.com/dhuan/wikicmd/releases/download/v0.1.0/wikicmd_v0.1.0_linux-386.zip">Download for Linux</a></li>
<li><a href="https://github.com/dhuan/wikicmd/releases/download/v0.1.0/wikicmd_v0.1.0_darwin-amd64.zip">Download for MacOS</a></li>
</ul>
<h2 id="useful-links"><a class="header" href="#useful-links">Useful Links</a></h2>
<ul>
<li><a href="https://github.com/dhuan/wikicmd/releases">Downloads</a></li>
<li><a href="https://github.com/dhuan/wikicmd">Source code</a></li>
<li><a href="https://dhuan.github.io/wikicmd">User Guide</a></li>
<li><a href="https://github.com/dhuan/wikicmd/issues">Report Bugs</a></li>
</ul>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>wikicmd is licensed under MIT. See <a href="https://github.com/dhuan/wikicmd/blob/master/LICENSE">License here</a> for more details.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<h2 id="download-it"><a class="header" href="#download-it">Download it</a></h2>
<p>This is the easiest installation method.</p>
<pre><code class="language-sh">$ wget https://github.com/dhuan/wikicmd/releases/download/v0.1.0/wikicmd_v0.1.0_linux-386.zip
$ unzip wikicmd_v0.1.0_linux-386.zip
</code></pre>
<blockquote>
<p>If you're using MacOS, you'll need to replace the download link above with the one for your platform. <a href="https://github.com/dhuan/wikicmd/releases">Check the releases page</a> to see all supported platforms and download the one that matches your system.</p>
</blockquote>
<p>A <code>wikicmd</code> binary should then be available to you at your current directory. You can just use it:</p>
<pre><code class="language-sh">$ ./wikicmd
</code></pre>
<p>Optionally, you may move it to your user's programs folder in order to make it executable without specifying the program's path: </p>
<pre><code class="language-sh">$ mv ./wikicmd ~/bin/.
$ wikicmd
</code></pre>
<h2 id="installing-from-source"><a class="header" href="#installing-from-source">Installing from source</a></h2>
<p>Make sure that your system meets the following requirements before proceeding:</p>
<ul>
<li><a href="https://go.dev/">Go 1.18 or more recent</a></li>
<li><a href="https://www.gnu.org/software/make/">GNU Make</a></li>
<li><a href="https://git-scm.com/">Git</a></li>
</ul>
<pre><code class="language-sh">$ git clone https://github.com/dhuan/wikicmd.git
$ cd wikicmd
$ make build
</code></pre>
<p>You should then have an executable named <code>wikicmd</code> located in the <code>bin</code> folder of the repository, which you can execute:</p>
<pre><code class="language-sh">$ ./bin/wikicmd
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuring"><a class="header" href="#configuring">Configuring</a></h1>
<p>wikicmd looks for <code>~/.wikicmd.json</code> in order to read your configuration. You can either create this file by hand, or you can run the <a href="cmd_config.html">config command</a> where a command-line wizard will help you to accomplish the same.</p>
<pre><code class="language-sh">$ wikicmd config
Wiki address: (https://en.wikipedia.org/w)
Login: myuser
Password: mypassword
Next, a configuration file will be created for you and saved as /home/myuser/.wikicmd.json

Is this OK? (yes):    
Done!
</code></pre>
<p>If you want your configuration file to be located in a place other than <code>~/.wikicmd.json</code>, you can set the <code>WIKICMD_CONFIG</code> shell environment variable, pointing to a place of your preference.</p>
<h2 id="configuration-structure"><a class="header" href="#configuration-structure">Configuration Structure</a></h2>
<p>A configuration file is formatted as follows:</p>
<pre><code class="language-json">{
  &quot;config&quot;: [
    {
      &quot;id&quot;: &quot;my_wiki&quot;,
      &quot;address&quot;: &quot;https://en.wikipedia.org/w&quot;,
      &quot;user&quot;: &quot;myuser&quot;,
      &quot;password&quot;: &quot;mypassword&quot;
    }
  ]
}
</code></pre>
<p>The <code>config</code> field takes a list of &quot;Wiki Configuration Objects&quot;. In the example above, we have only one Wiki, <code>my_wiki</code>, that we want to manage with wikicmd. If you want to configure wikicmd to be able to use multiple wikis, make sure to read about the <a href="cmd_switch.html">switch command</a>.</p>
<h2 id="configuration-parameters"><a class="header" href="#configuration-parameters">Configuration Parameters</a></h2>
<h3 id="wiki-object"><a class="header" href="#wiki-object">Wiki Object</a></h3>
<h4 id="id"><a class="header" href="#id">id</a></h4>
<p>An ID to identify a Wiki with.</p>
<h4 id="address"><a class="header" href="#address">address</a></h4>
<p>A Wiki URL. For example <code>https://en.wikipedia.org/w</code>.</p>
<h4 id="user"><a class="header" href="#user">user</a></h4>
<p>A username that you can login with.</p>
<h4 id="password"><a class="header" href="#password">password</a></h4>
<p>Your password.</p>
<h4 id="importextensions-optional"><a class="header" href="#importextensions-optional">importExtensions (optional)</a></h4>
<p>A list of file extensions that can be be imported.</p>
<p>MediaWiki by default allows only a set of file types to be uploaded. However there are extensions that enhance MediaWiki to allow other kinds of files. If you customised your wiki to enable uploading other types of files, you can use this configuration parameter to enable wikicmd to import these files.</p>
<pre><code>&quot;importExtensions&quot;: [
  &quot;mp4&quot;,
  &quot;avi&quot;,
  &quot;wmv&quot;
]
</code></pre>
<h3 id="root-level-configuration"><a class="header" href="#root-level-configuration">Root Level Configuration</a></h3>
<p>The following configuration parameters are not related to any specific Wiki instance.</p>
<h4 id="editor-optional"><a class="header" href="#editor-optional">editor (optional)</a></h4>
<p>Sets the text-editing program for editing Wiki Pages.</p>
<p>If you don't set this parameter, the text editor that will open up will be the one defined in your <code>EDITOR</code> shell environment variable. If that is not set as well, it will default to <code>vim</code>.</p>
<h4 id="default-optional"><a class="header" href="#default-optional">default (optional)</a></h4>
<p>The wiki that you're currently working with. This parameter is manipulated by the <a href="cmd_switch.html">switch command.</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-your-wiki-credentials"><a class="header" href="#get-your-wiki-credentials">Get your Wiki Credentials</a></h1>
<p>wikicmd is meant to be used with <a href="https://www.mediawiki.org/wiki/Manual:Bot_passwords">MediaWiki's Bot Passwords.</a> Getting your Bot Password is an easy process once you have your user account for Wikipedia or any MediaWiki website. This guide will show you how to do it.</p>
<blockquote>
<p>This guide links to Wikipedia but you can follow these steps in any MediaWiki instance.</p>
</blockquote>
<h2 id="1--get-your-account"><a class="header" href="#1--get-your-account">1-) Get your account</a></h2>
<p><a href="https://en.wikipedia.org/w/index.php?title=Special:CreateAccount">Signup to Wikipedia here</a> if you don't have an account yet. Then login with your account in Wikipedia.</p>
<h2 id="2--setup-your-bot-password"><a class="header" href="#2--setup-your-bot-password">2-) Setup your Bot Password</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Special:BotPasswords">Click here to go to the Bot Password page.</a></p>
<p>Under <strong>Bot Name</strong>, type a bot name of your preference. You'll use it later when configuring wikicmd. Click <strong>Create</strong>.</p>
<p>Next, you'll be asked which privileges to assign to your new Bot Password. The following privileges are relevant to wikicmd - you will want to check them:</p>
<pre><code>Import revisions
Edit existing pages
Edit protected pages
Create, edit, and move pages
Upload new files
Upload, replace, and move files
Delete pages
</code></pre>
<p>Click <strong>Create</strong>. MediaWiki creates a random password for you, which is shown immediately after you've created your Bot Password. Make sure not to lose the information in this page, as you'll be using it in the next step configuring wikicmd.</p>
<h2 id="3--configure-wikicmd-with-your-new-bot-password"><a class="header" href="#3--configure-wikicmd-with-your-new-bot-password">3-) Configure wikicmd with your new Bot Password</a></h2>
<p>Supposing that your Wikipedia's Username is <code>JohnDoe</code> and your Bot Password is named <code>mybot</code>, and the randomly generated password is <code>123456789</code>, your wikicmd configuration should then be edited as such:</p>
<pre><code class="language-json">{
  &quot;config&quot;: [
    {
      &quot;id&quot;: &quot;my_wiki&quot;,
      &quot;address&quot;: &quot;https://en.wikipedia.org/w&quot;,
      &quot;user&quot;: &quot;JohnDoe@mybot&quot;,
      &quot;password&quot;: &quot;123456789&quot;
    }
  ]
}
</code></pre>
<p>Having followed these steps, wikicmd should be set and ready to be used. In case of issues, <a href="https://github.com/dhuan/wikicmd/issues">you can report bugs in this link.</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h1>
<p>If you're facing issues, it may help to use the verbose flag <code>-v</code>. It will output for you a bunch of useful log messages, including each HTTP request that's being sent, and their responses.</p>
<pre><code class="language-sh">$ wikicmd -v edit 'Some page'
</code></pre>
<h1 id="faq"><a class="header" href="#faq">F.A.Q</a></h1>
<h2 id="i-see-the-error-message-failed-to-login-with-user"><a class="header" href="#i-see-the-error-message-failed-to-login-with-user">I see the error message <code>Failed to login with user...</code></a></h2>
<p>A common mistake is trying to setup wikicmd with your actual login and password information, when you should instead setup a Bot Password for your account. <a href="credentials.html">Check this guide for more details.</a></p>
<p>In case you're still facing this issue even after making sure that your Bot Password is set correctly, <a href="https://github.com/dhuan/wikicmd/issues">maybe it'd be better to report the issue.</a></p>
<h2 id="i-dont-like-the-editor-that-opens-up-when-i-use-wikicmds-edit-how-do-i-use-editor-x"><a class="header" href="#i-dont-like-the-editor-that-opens-up-when-i-use-wikicmds-edit-how-do-i-use-editor-x">I don't like the editor that opens up when I use wikicmd's <code>edit</code>. How do I use editor X?</a></h2>
<pre><code class="language-sh">$ export EDITOR=vscode
$ wikicmd edit 'Some page'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="config"><a class="header" href="#config">config</a></h1>
<p>Opens your configuration file for editing, located at <code>~/.wikicmd.json</code>, if it exists. Otherwise creates a new configuration file for you.</p>
<pre><code class="language-sh">$ wikicmd config
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<h3 id="--new"><a class="header" href="#--new">--new</a></h3>
<p>Overwrites your existing configuration with a new one, taking you through the &quot;New configuration wizard&quot; before.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="edit"><a class="header" href="#edit">Edit</a></h1>
<p>Opens a Wiki Page for editing, given a page name. If there's no page with the given name, a new one will be created once you've saved and exited the editor.</p>
<pre><code class="language-sh">$ wikicmd edit 'Some wiki page'
</code></pre>
<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
<p><strong>--message | -m</strong>: The <a href="https://meta.wikimedia.org/wiki/Help:Edit_summary">edit summary.</a> If this option is not set, you'll be manually prompted to set an Edit Summary after you've saved the page's changes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="export"><a class="header" href="#export">Export</a></h1>
<p>Exports Wiki content to a given folder in your computer. The given folder must exist.</p>
<pre><code class="language-sh">$ wikicmd export /path/to/export/to
</code></pre>
<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
<p><strong>--type | -t</strong>: Content type that you want to export. The following types can be given:</p>
<ul>
<li><code>all</code></li>
<li><code>page</code></li>
<li><code>image</code></li>
</ul>
<p>Defaults to <code>all</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="import"><a class="header" href="#import">Import</a></h1>
<p>Imports pages or images.</p>
<pre><code class="language-sh">$ wikicmd import /path/to/some/files/*.jpg
$ wikicmd import /path/to/some/files/*.wikitext
</code></pre>
<h2 id="what-files-can-be-imported"><a class="header" href="#what-files-can-be-imported">What files can be imported</a></h2>
<p><strong>Wiki pages</strong>: Text files with the <code>.wikitext</code> or <code>.txt</code>. extension.</p>
<p><strong>Images</strong>: Images with the following extensions can be imported: <code>.jpg</code>, <code>.jpeg</code>, <code>.png</code>.</p>
<h2 id="options-3"><a class="header" href="#options-3">Options</a></h2>
<p><strong>--message | -m</strong>: The <a href="https://meta.wikimedia.org/wiki/Help:Edit_summary">edit summary.</a> If set, the imported content will be saved with the given summary message.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="switch"><a class="header" href="#switch">switch</a></h1>
<p>Sets the current Wiki that you're working with, given a Wiki ID.</p>
<pre><code class="language-sh">$ wikicmd switch my_wiki
</code></pre>
<p>Your wikicmd configuration file can contain multiple Wiki Configuration Objects.</p>
<pre><code class="language-json">{
  &quot;config&quot;: [
    {
      &quot;id&quot;: &quot;my_wiki&quot;
      ...
    },
    {
      &quot;id&quot;: &quot;another_wiki&quot;
      ...
    }
  ]
}
</code></pre>
<p>Given the configuration structure above, we could switch to either <code>my_wiki</code> or <code>another_wiki</code>.</p>
<p>If you're using wikicmd to work with a single Wiki only, you won't be using this command.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
